local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "Pilgrammed.exe",
    LoadingTitle = "Pilgrammed.exe",
    LoadingSubtitle = "Like and subscribe",
    ConfigurationSaving = {
        Enabled = false,
        FolderName = nil,
        FileName = nil
    },
    KeySystem = false,
})

local CombatTab = Window:CreateTab("Combat", 4483362458)

local remote = game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("Block")
local args = {true}
local connection

local function startSpamming()
    if connection then return end
    connection = game:GetService("RunService").Heartbeat:Connect(function()
        -- Aggressive burst: fire 4 times with minimal delay for "perfect" parry coverage
        remote:FireServer(unpack(args))
        task.wait(0.005)
        remote:FireServer(unpack(args))
        task.wait(0.005)
        remote:FireServer(unpack(args))
        task.wait(0.005)
        remote:FireServer(unpack(args))
        -- Short gap between bursts (still spamming but with structure)
        task.wait(0.02)
    end)
end

local function stopSpamming()
    if connection then
        connection:Disconnect()
        connection = nil
    end
end

local AutoParryToggle = CombatTab:CreateToggle({
    Name = "Auto Parry",
    CurrentValue = false,
    Flag = "AutoParry",
    Callback = function(Value)
        if Value then
            startSpamming()
        else
            stopSpamming()
        end
    end,
})

local UserInputService = game:GetService("UserInputService")
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.K then
        Rayfield:Toggle()
    end
end)
